<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KFactor: /Users/archanar/Kinematic_factor/adat_devel/other_libs/filedb/filehash/ffdb_pagepool.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KFactor
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">This program computes the Kinematic fsctors based on lorentz invariance for radiative transitions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_42aabd94b82a617bd9d425e80243545f.html">Kinematic_factor</a></li><li class="navelem"><a class="el" href="../../dir_d78221c7a9dfbbd0e5ad55e166335ee7.html">adat_devel</a></li><li class="navelem"><a class="el" href="../../dir_10f2e167b72776fcd75641213417cae0.html">other_libs</a></li><li class="navelem"><a class="el" href="../../dir_55de1dc9ba9adee8a52ca60cbd7112f2.html">filedb</a></li><li class="navelem"><a class="el" href="../../dir_2be60bfebbdb81cca5c3e6e233b9cc84.html">filehash</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ffdb_pagepool.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d2/da9/devel_2other__libs_2filedb_2filehash_2ffdb__cq_8h_source.html">ffdb_cq.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ffdb_pagepool.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/dee/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h__incl.png" border="0" usemap="#_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h" alt=""/></div>
<map name="_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h" id="_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h">
<area shape="rect" id="node1" title=" " alt="" coords="40,5,218,71"/>
<area shape="rect" id="node2" title=" " alt="" coords="5,119,66,144"/>
<area shape="rect" id="node3" title=" " alt="" coords="90,119,168,144"/>
<area shape="rect" id="node4" href="../../d2/da9/devel_2other__libs_2filedb_2filehash_2ffdb__cq_8h.html" title=" " alt="" coords="192,119,268,144"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d50/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h__dep__incl.png" border="0" usemap="#_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8hdep" alt=""/></div>
<map name="_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8hdep" id="_2Users_2archanar_2Kinematic__factor_2adat__devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8hdep">
<area shape="rect" id="node1" title=" " alt="" coords="216,5,395,71"/>
<area shape="rect" id="node2" href="../../da/d7c/devel_2other__libs_2filedb_2filehash_2ffdb__db_8c.html" title=" " alt="" coords="5,125,198,177"/>
<area shape="rect" id="node3" href="../../d4/da4/devel_2other__libs_2filedb_2filehash_2ffdb__hash_8c.html" title=" " alt="" coords="132,232,338,284"/>
<area shape="rect" id="node4" href="../../d3/db6/devel_2other__libs_2filedb_2filehash_2ffdb__hash_8h.html" title=" " alt="" coords="273,125,480,177"/>
<area shape="rect" id="node6" href="../../d7/d5e/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8c.html" title=" " alt="" coords="504,119,683,184"/>
<area shape="rect" id="node5" href="../../d6/deb/devel_2other__libs_2filedb_2filehash_2ffdb__page_8c.html" title=" " alt="" coords="362,232,569,284"/>
</map>
</div>
</div>
<p><a href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dad/struct__ffdb__bkt__waiter.html">_ffdb_bkt_waiter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7c/struct__ffdb__bkt.html">_ffdb_bkt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d26/struct__ffdb__sbkt.html">_ffdb_sbkt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d66/struct__ffdb__pagepool__.html">_ffdb_pagepool_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab474411c6606124ac96464e49450491b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ab474411c6606124ac96464e49450491b">FFDB_FLAG_CLR</a>(flags,  f)&#160;&#160;&#160;((flags) &amp;= ~(f))</td></tr>
<tr class="separator:ab474411c6606124ac96464e49450491b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683f8c92b18290ac9441da989a5545f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a683f8c92b18290ac9441da989a5545f1">FFDB_FLAG_ISSET</a>(flags,  f)&#160;&#160;&#160;((flags) &amp; (f))</td></tr>
<tr class="separator:a683f8c92b18290ac9441da989a5545f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71cf0be47170e3d9039fc5b54eb1641"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ab71cf0be47170e3d9039fc5b54eb1641">FFDB_FLAG_SET</a>(flags,  f)&#160;&#160;&#160;((flags) |= (f))</td></tr>
<tr class="separator:ab71cf0be47170e3d9039fc5b54eb1641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad891cad4d93571b9eaaf397018e623f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aad891cad4d93571b9eaaf397018e623f">FFDB_POWER_OF_TWO</a>(x)&#160;&#160;&#160;(( (x) &amp; (x - 1)) == 0)</td></tr>
<tr class="separator:aad891cad4d93571b9eaaf397018e623f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3a05cff58609790fd326517cb637ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a3d3a05cff58609790fd326517cb637ca">FFDB_LOCK_INIT</a>(lock)&#160;&#160;&#160;(pthread_mutex_init ( &amp;(lock), 0))</td></tr>
<tr class="separator:a3d3a05cff58609790fd326517cb637ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105cfacf28ed158c1ee76c1a6dce83dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a105cfacf28ed158c1ee76c1a6dce83dc">FFDB_LOCK_FINI</a>(lock)&#160;&#160;&#160;(pthread_mutex_destroy (&amp;(lock)))</td></tr>
<tr class="separator:a105cfacf28ed158c1ee76c1a6dce83dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c5880314b0af06c8f846b79e0e3beb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a26c5880314b0af06c8f846b79e0e3beb">FFDB_LOCK</a>(lock)&#160;&#160;&#160;(pthread_mutex_lock(&amp;(lock)))</td></tr>
<tr class="separator:a26c5880314b0af06c8f846b79e0e3beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770bd9e9fabaed425e3d471d346166bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a770bd9e9fabaed425e3d471d346166bc">FFDB_UNLOCK</a>(lock)&#160;&#160;&#160;(pthread_mutex_unlock(&amp;(lock)))</td></tr>
<tr class="separator:a770bd9e9fabaed425e3d471d346166bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031c04f027c2ddd3f608b20c08b4cae8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a031c04f027c2ddd3f608b20c08b4cae8">FFDB_COND_INIT</a>(cond)&#160;&#160;&#160;(pthread_cond_init(&amp;(cond), 0))</td></tr>
<tr class="separator:a031c04f027c2ddd3f608b20c08b4cae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e3fa706d2086441e7d2e7f4d42a9e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ae2e3fa706d2086441e7d2e7f4d42a9e2">FFDB_COND_FINI</a>(cond)&#160;&#160;&#160;(pthread_cond_destroy(&amp;(cond)))</td></tr>
<tr class="separator:ae2e3fa706d2086441e7d2e7f4d42a9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49abcb87f048d8d4c421ef4207ad69ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a49abcb87f048d8d4c421ef4207ad69ab">FFDB_COND_WAIT</a>(cond,  lock)&#160;&#160;&#160;(pthread_cond_wait(&amp;(cond), &amp;(lock)))</td></tr>
<tr class="separator:a49abcb87f048d8d4c421ef4207ad69ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2a8af69413cb35dc258ff446c2810e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a9e2a8af69413cb35dc258ff446c2810e">FFDB_COND_SIGNAL</a>(cond)&#160;&#160;&#160;(pthread_cond_signal(&amp;(cond)))</td></tr>
<tr class="separator:a9e2a8af69413cb35dc258ff446c2810e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649f90878924e345296bdd6d855bb67a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a649f90878924e345296bdd6d855bb67a">FFDB_COND_BROADCAST</a>(cond)&#160;&#160;&#160;(pthread_cond_broadcast(&amp;(cond)))</td></tr>
<tr class="separator:a649f90878924e345296bdd6d855bb67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431000f2ae42020b7e1831dba9716c31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a431000f2ae42020b7e1831dba9716c31">FFDB_THREAD_NULL</a>(id)&#160;&#160;&#160;(memset(&amp;id, 0, sizeof(pthread_t)))</td></tr>
<tr class="separator:a431000f2ae42020b7e1831dba9716c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0ec4d7b88f89a37915755f01d8687a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aaa0ec4d7b88f89a37915755f01d8687a">FFDB_THREAD_ID</a>&#160;&#160;&#160;(pthread_self())</td></tr>
<tr class="separator:aaa0ec4d7b88f89a37915755f01d8687a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a6441c16eee0ed7b4b0e730015335b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#af6a6441c16eee0ed7b4b0e730015335b">FFDB_THREAD_SAME</a>(id1,  id2)&#160;&#160;&#160;(pthread_equal(id1,id2))</td></tr>
<tr class="separator:af6a6441c16eee0ed7b4b0e730015335b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218c8b508b6d70a0c806c7a5c544c25a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a218c8b508b6d70a0c806c7a5c544c25a">FFDB_CLEANHDR_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a218c8b508b6d70a0c806c7a5c544c25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896afa4e850cfdef005b805712ed8812"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a896afa4e850cfdef005b805712ed8812">FFDB_WRITE_FRAC</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a896afa4e850cfdef005b805712ed8812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac275e89e5a9d7918449b3fb9d2b57c7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ac275e89e5a9d7918449b3fb9d2b57c7d">FFDB_CREATE</a>&#160;&#160;&#160;0x00000001    /* Create file as necessary. */</td></tr>
<tr class="separator:ac275e89e5a9d7918449b3fb9d2b57c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6287665e8a01d5bb20d053bb730b87fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a6287665e8a01d5bb20d053bb730b87fc">FFDB_NOMMAP</a>&#160;&#160;&#160;0x00000010    /* Don't mmap underlying file. */</td></tr>
<tr class="separator:a6287665e8a01d5bb20d053bb730b87fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b90b5bfef518ec2ce0a82caae32e32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a38b90b5bfef518ec2ce0a82caae32e32">FFDB_RDONLY</a>&#160;&#160;&#160;0x00000020    /* Read-only (O_RDONLY). */</td></tr>
<tr class="separator:a38b90b5bfef518ec2ce0a82caae32e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0752e3ac79c56657fcddc9ec8b113664"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a0752e3ac79c56657fcddc9ec8b113664">FFDB_DIRECT</a>&#160;&#160;&#160;0x00000040    /* No Buffering (OS)  */</td></tr>
<tr class="separator:a0752e3ac79c56657fcddc9ec8b113664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd949b4684a5419fea1d6df7d1bcee7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#afbd949b4684a5419fea1d6df7d1bcee7">FFDB_THREAD</a>&#160;&#160;&#160;0x00000080    /* Applications are threaded. */</td></tr>
<tr class="separator:afbd949b4684a5419fea1d6df7d1bcee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c6f9982ed977047ebfdfbc58787424"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a31c6f9982ed977047ebfdfbc58787424">FFDB_TRUNCATE</a>&#160;&#160;&#160;0x00000100    /* Discard existing DB (O_TRUNC). */</td></tr>
<tr class="separator:a31c6f9982ed977047ebfdfbc58787424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c5fd155bd487e656eb2779f4d805a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a13c5fd155bd487e656eb2779f4d805a3">FFDB_PAGE_CREATE</a>&#160;&#160;&#160;0x00000001	/* page needs to be written */</td></tr>
<tr class="separator:a13c5fd155bd487e656eb2779f4d805a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fd5f8f5dfac0274251820d9726c2ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a83fd5f8f5dfac0274251820d9726c2ea">FFDB_PAGE_DIRTY</a>&#160;&#160;&#160;0x00000002	/* page needs to be written */</td></tr>
<tr class="separator:a83fd5f8f5dfac0274251820d9726c2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0300fb8ffe6959f9be9e9355b560b24c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a0300fb8ffe6959f9be9e9355b560b24c">FFDB_PAGE_EDIT</a>&#160;&#160;&#160;0x00000004	/* Modify without copying. */</td></tr>
<tr class="separator:a0300fb8ffe6959f9be9e9355b560b24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7a66ec27e19bb172da5596a3cd4f95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aad7a66ec27e19bb172da5596a3cd4f95">FFDB_PAGE_FREE</a>&#160;&#160;&#160;0x00000008	/* Free page if present. */</td></tr>
<tr class="separator:aad7a66ec27e19bb172da5596a3cd4f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68307f558c015ef865fcd4cf94b38d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#af68307f558c015ef865fcd4cf94b38d1">FFDB_PAGE_LAST</a>&#160;&#160;&#160;0x00000010	/* Return the last page. */</td></tr>
<tr class="separator:af68307f558c015ef865fcd4cf94b38d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13a29f7cca1a74b9309ee383bfd2ce8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ac13a29f7cca1a74b9309ee383bfd2ce8">FFDB_PAGE_NEW</a>&#160;&#160;&#160;0x00000020	/* Create a new page. */</td></tr>
<tr class="separator:ac13a29f7cca1a74b9309ee383bfd2ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440c42c39023ec7bc703c1ee7cf9d31d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a440c42c39023ec7bc703c1ee7cf9d31d">FFDB_PAGE_PINNED</a>&#160;&#160;&#160;0x00000100	/* page is pinned into memory */</td></tr>
<tr class="separator:a440c42c39023ec7bc703c1ee7cf9d31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b245e3a64286e83e0dabe70b18d82ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a0b245e3a64286e83e0dabe70b18d82ca">FFDB_PAGE_VALID</a>&#160;&#160;&#160;0x00000200	/* page address is valid */</td></tr>
<tr class="separator:a0b245e3a64286e83e0dabe70b18d82ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5c29834d2c61a4ad84c4a619241184"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aec5c29834d2c61a4ad84c4a619241184">FFDB_PAGE_LOCKED</a>&#160;&#160;&#160;0x00000400	/* page should stay in memory */</td></tr>
<tr class="separator:aec5c29834d2c61a4ad84c4a619241184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358b2174963715fbd8106a5b18dba4a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a358b2174963715fbd8106a5b18dba4a5">FFDB_PAGE_IGNOREPIN</a>&#160;&#160;&#160;0x00001000	/* Ignore if the page is pinned.*/</td></tr>
<tr class="separator:a358b2174963715fbd8106a5b18dba4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf1f5e267ceac2e911909dbb47d5b1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aadf1f5e267ceac2e911909dbb47d5b1f">FFDB_PAGE_REQUEST</a></td></tr>
<tr class="separator:aadf1f5e267ceac2e911909dbb47d5b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85efbea251f47f544fa98e5fb0efba8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a85efbea251f47f544fa98e5fb0efba8a">FFDB_PAGE_NEXT</a></td></tr>
<tr class="separator:a85efbea251f47f544fa98e5fb0efba8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ce97daaa82305f17c46ade9d36bead"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a16ce97daaa82305f17c46ade9d36bead">FFDB_MAX_PAGE_NUMBER</a>&#160;&#160;&#160;0xffffffff	/* &gt;= # of pages in a file */</td></tr>
<tr class="separator:a16ce97daaa82305f17c46ade9d36bead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9397310c76ad6c71d34754a00f7b8a71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a9397310c76ad6c71d34754a00f7b8a71">FFDB_MAX_REC_NUMBER</a>&#160;&#160;&#160;0xffffffff	/* &gt;= # of records in a tree */</td></tr>
<tr class="separator:a9397310c76ad6c71d34754a00f7b8a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec72f941ddb4abac0537aad839ae0d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a4ec72f941ddb4abac0537aad839ae0d1">FFDB_MIN_PGSIZE</a>&#160;&#160;&#160;0x000200   /* Minimum page size (512). */</td></tr>
<tr class="separator:a4ec72f941ddb4abac0537aad839ae0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160d085e2bf39c78d1adf6e1af9e7d60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a160d085e2bf39c78d1adf6e1af9e7d60">FFDB_MAX_PGSIZE</a>&#160;&#160;&#160;0x040000   /* Maximum page size (262144). */</td></tr>
<tr class="separator:a160d085e2bf39c78d1adf6e1af9e7d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1c2fbde9b4b6a95b8a164d7479286f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe1c2fbde9b4b6a95b8a164d7479286f">FFDB_HASHSIZE</a>&#160;&#160;&#160;16384</td></tr>
<tr class="separator:abe1c2fbde9b4b6a95b8a164d7479286f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d9440d281a400a2589035eddd2e012"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a72d9440d281a400a2589035eddd2e012">FFDB_HASHKEY</a>(pgno)&#160;&#160;&#160;((pgno - 1 + <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe1c2fbde9b4b6a95b8a164d7479286f">FFDB_HASHSIZE</a>) % <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe1c2fbde9b4b6a95b8a164d7479286f">FFDB_HASHSIZE</a>)</td></tr>
<tr class="separator:a72d9440d281a400a2589035eddd2e012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:accd1d1333df4b3ff0bb77b691fc9d126"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d0/dad/struct__ffdb__bkt__waiter.html">_ffdb_bkt_waiter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#accd1d1333df4b3ff0bb77b691fc9d126">ffdb_bkt_waiter_t</a></td></tr>
<tr class="separator:accd1d1333df4b3ff0bb77b691fc9d126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7436d10d66de8bbe2325c37cd7a5ef"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d1/d7c/struct__ffdb__bkt.html">_ffdb_bkt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a7d7436d10d66de8bbe2325c37cd7a5ef">ffdb_bkt_t</a></td></tr>
<tr class="separator:a7d7436d10d66de8bbe2325c37cd7a5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721dc6b888a776fec1cebb5ce4ea68c7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dc/d26/struct__ffdb__sbkt.html">_ffdb_sbkt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a721dc6b888a776fec1cebb5ce4ea68c7">ffdb_sbkt_t</a></td></tr>
<tr class="separator:a721dc6b888a776fec1cebb5ce4ea68c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9c83a47a1f5babe21df1582aeb8022"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe9c83a47a1f5babe21df1582aeb8022">ffdb_pgiofunc_t</a>) (void *arg, <a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> pgno, void *mem)</td></tr>
<tr class="separator:abe9c83a47a1f5babe21df1582aeb8022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73290f737b0e5f8be90a0fa96ddf6ab6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dc/d66/struct__ffdb__pagepool__.html">_ffdb_pagepool_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a></td></tr>
<tr class="separator:a73290f737b0e5f8be90a0fa96ddf6ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aad811ff54987678d1dfde499c3ef4899"><td class="memItemLeft" align="right" valign="top">typedef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aad811ff54987678d1dfde499c3ef4899">FFDB_SLIST_HEAD</a> (_ffdb_slh, <a class="el" href="../../dc/d26/struct__ffdb__sbkt.html">_ffdb_sbkt</a>) ffdb_slh_t</td></tr>
<tr class="separator:aad811ff54987678d1dfde499c3ef4899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942bc04bad183d386b22a85d5d070ffc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a942bc04bad183d386b22a85d5d070ffc">ffdb_pagepool_create</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> **pagepool, unsigned int flags)</td></tr>
<tr class="separator:a942bc04bad183d386b22a85d5d070ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12eb043ae26795fb94d776f0bb48eddf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a12eb043ae26795fb94d776f0bb48eddf">ffdb_pagepool_open</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pagepool, const char *filename, unsigned int flags, int mode, const unsigned int pagesize, const unsigned int maxcache)</td></tr>
<tr class="separator:a12eb043ae26795fb94d776f0bb48eddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb004ebd1f72e4fe64f32f150bc380e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a1fb004ebd1f72e4fe64f32f150bc380e">ffdb_pagepool_open_fd</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pagepool, int fd, const unsigned int pagesize, const unsigned int maxcache)</td></tr>
<tr class="separator:a1fb004ebd1f72e4fe64f32f150bc380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64907f28abdad3f859641b235e76bb42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a64907f28abdad3f859641b235e76bb42">ffdb_pagepool_new_page</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, <a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> *pageno, unsigned int flags, void **mem)</td></tr>
<tr class="separator:a64907f28abdad3f859641b235e76bb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c5e95803e8cb5f6eee48855f12f27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a5b3c5e95803e8cb5f6eee48855f12f27">ffdb_pagepool_get_page</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, <a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> *pageno, unsigned int flags, void **mem)</td></tr>
<tr class="separator:a5b3c5e95803e8cb5f6eee48855f12f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f00ff4f29b50aaa1bc5444087b9bb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ad7f00ff4f29b50aaa1bc5444087b9bb5">ffdb_pagepool_put_page</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, void *mem, unsigned int flags)</td></tr>
<tr class="separator:ad7f00ff4f29b50aaa1bc5444087b9bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a56a4dfe872f7c75dd8064ca7bffedf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a8a56a4dfe872f7c75dd8064ca7bffedf">ffdb_pagepool_change_page</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, void *mem, <a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> newpagenum)</td></tr>
<tr class="separator:a8a56a4dfe872f7c75dd8064ca7bffedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae180f42208c9a87c2b8be32bb3ec93be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ae180f42208c9a87c2b8be32bb3ec93be">ffdb_pagepool_sync</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp)</td></tr>
<tr class="separator:ae180f42208c9a87c2b8be32bb3ec93be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c44ef71020216252a28a384316dd93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73c44ef71020216252a28a384316dd93">ffdb_pagepool_close</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp)</td></tr>
<tr class="separator:a73c44ef71020216252a28a384316dd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53e778be42420ab49a02b1d238b7533"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#ad53e778be42420ab49a02b1d238b7533">ffdb_pagepool_delete</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, void *mem)</td></tr>
<tr class="separator:ad53e778be42420ab49a02b1d238b7533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2dbd77212ac78d15ab0511dee2d1ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#aee2dbd77212ac78d15ab0511dee2d1ba">ffdb_pagepool_filter</a> (<a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *pgp, <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe9c83a47a1f5babe21df1582aeb8022">ffdb_pgiofunc_t</a> pgin, <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe9c83a47a1f5babe21df1582aeb8022">ffdb_pgiofunc_t</a> pgout, void *cookie)</td></tr>
<tr class="separator:aee2dbd77212ac78d15ab0511dee2d1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c44f8ab92d09c2def5eadf818b8173"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a72c44f8ab92d09c2def5eadf818b8173">ffdb_dump_stack</a> (void)</td></tr>
<tr class="separator:a72c44f8ab92d09c2def5eadf818b8173"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a218c8b508b6d70a0c806c7a5c544c25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218c8b508b6d70a0c806c7a5c544c25a">&#9670;&nbsp;</a></span>FFDB_CLEANHDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_CLEANHDR_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Clear first a few bytes on a new page </p>

</div>
</div>
<a id="a649f90878924e345296bdd6d855bb67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a649f90878924e345296bdd6d855bb67a">&#9670;&nbsp;</a></span>FFDB_COND_BROADCAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_COND_BROADCAST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_cond_broadcast(&amp;(cond)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae2e3fa706d2086441e7d2e7f4d42a9e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e3fa706d2086441e7d2e7f4d42a9e2">&#9670;&nbsp;</a></span>FFDB_COND_FINI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_COND_FINI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_cond_destroy(&amp;(cond)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a031c04f027c2ddd3f608b20c08b4cae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031c04f027c2ddd3f608b20c08b4cae8">&#9670;&nbsp;</a></span>FFDB_COND_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_COND_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_cond_init(&amp;(cond), 0))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e2a8af69413cb35dc258ff446c2810e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2a8af69413cb35dc258ff446c2810e">&#9670;&nbsp;</a></span>FFDB_COND_SIGNAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_COND_SIGNAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_cond_signal(&amp;(cond)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a49abcb87f048d8d4c421ef4207ad69ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49abcb87f048d8d4c421ef4207ad69ab">&#9670;&nbsp;</a></span>FFDB_COND_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_COND_WAIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cond, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lock&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(pthread_cond_wait(&amp;(cond), &amp;(lock)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac275e89e5a9d7918449b3fb9d2b57c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac275e89e5a9d7918449b3fb9d2b57c7d">&#9670;&nbsp;</a></span>FFDB_CREATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_CREATE&#160;&#160;&#160;0x00000001    /* Create file as necessary. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0752e3ac79c56657fcddc9ec8b113664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0752e3ac79c56657fcddc9ec8b113664">&#9670;&nbsp;</a></span>FFDB_DIRECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_DIRECT&#160;&#160;&#160;0x00000040    /* No Buffering (OS)  */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab474411c6606124ac96464e49450491b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab474411c6606124ac96464e49450491b">&#9670;&nbsp;</a></span>FFDB_FLAG_CLR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_FLAG_CLR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((flags) &amp;= ~(f))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Copyright (C) &lt;2008&gt; Jefferson Science Associates, LLC Under U.S. DOE Contract No. DE-AC05-06OR23177</p>
<p class="">Thomas Jefferson National Accelerator Facility</p>
<p class="">Jefferson Lab Scientific Computing Group, 12000 Jefferson Ave.,</p>
<p class="">Newport News, VA 23606</p>
<p class="">This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p class="">This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p class="">You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p><hr/>
<p> Description: Memory Cache Page Pool Header File</p>
<p class="">Author: Jie Chen Scientific Computing Group Jefferson Lab</p>
<p class="">Revision History: </p><dl class="section rcs"><dt>Log</dt><dd>ffdb_pagepool.h,v </dd></dl>
<p>Revision 1.4 2009-07-18 2136 chen Fix a bug when cache size is not big enough by changing pgp-&gt;npages to be number of pages in the file and maxpgno to be maximum page number currently in use</p>
<p class="">Revision 1.3 2009/04/17 0014 chen add dump stack routine</p>
<p class="">Revision 1.2 2009/03/04 0126 chen Combine multiple writes</p>
<p class="">Revision 1.1 2009/02/20 2047 chen initial importSome commonly used macros </p>

</div>
</div>
<a id="a683f8c92b18290ac9441da989a5545f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683f8c92b18290ac9441da989a5545f1">&#9670;&nbsp;</a></span>FFDB_FLAG_ISSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_FLAG_ISSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((flags) &amp; (f))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab71cf0be47170e3d9039fc5b54eb1641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71cf0be47170e3d9039fc5b54eb1641">&#9670;&nbsp;</a></span>FFDB_FLAG_SET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_FLAG_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((flags) |= (f))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a72d9440d281a400a2589035eddd2e012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d9440d281a400a2589035eddd2e012">&#9670;&nbsp;</a></span>FFDB_HASHKEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_HASHKEY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pgno</td><td>)</td>
          <td>&#160;&#160;&#160;((pgno - 1 + <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe1c2fbde9b4b6a95b8a164d7479286f">FFDB_HASHSIZE</a>) % <a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe1c2fbde9b4b6a95b8a164d7479286f">FFDB_HASHSIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abe1c2fbde9b4b6a95b8a164d7479286f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe1c2fbde9b4b6a95b8a164d7479286f">&#9670;&nbsp;</a></span>FFDB_HASHSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_HASHSIZE&#160;&#160;&#160;16384</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a26c5880314b0af06c8f846b79e0e3beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c5880314b0af06c8f846b79e0e3beb">&#9670;&nbsp;</a></span>FFDB_LOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lock</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_mutex_lock(&amp;(lock)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a105cfacf28ed158c1ee76c1a6dce83dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105cfacf28ed158c1ee76c1a6dce83dc">&#9670;&nbsp;</a></span>FFDB_LOCK_FINI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_LOCK_FINI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lock</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_mutex_destroy (&amp;(lock)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3d3a05cff58609790fd326517cb637ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3a05cff58609790fd326517cb637ca">&#9670;&nbsp;</a></span>FFDB_LOCK_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_LOCK_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lock</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_mutex_init ( &amp;(lock), 0))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a16ce97daaa82305f17c46ade9d36bead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ce97daaa82305f17c46ade9d36bead">&#9670;&nbsp;</a></span>FFDB_MAX_PAGE_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_MAX_PAGE_NUMBER&#160;&#160;&#160;0xffffffff	/* &gt;= # of pages in a file */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a160d085e2bf39c78d1adf6e1af9e7d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160d085e2bf39c78d1adf6e1af9e7d60">&#9670;&nbsp;</a></span>FFDB_MAX_PGSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_MAX_PGSIZE&#160;&#160;&#160;0x040000   /* Maximum page size (262144). */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9397310c76ad6c71d34754a00f7b8a71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9397310c76ad6c71d34754a00f7b8a71">&#9670;&nbsp;</a></span>FFDB_MAX_REC_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_MAX_REC_NUMBER&#160;&#160;&#160;0xffffffff	/* &gt;= # of records in a tree */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ec72f941ddb4abac0537aad839ae0d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec72f941ddb4abac0537aad839ae0d1">&#9670;&nbsp;</a></span>FFDB_MIN_PGSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_MIN_PGSIZE&#160;&#160;&#160;0x000200   /* Minimum page size (512). */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Maximum and minimum page size </p>

</div>
</div>
<a id="a6287665e8a01d5bb20d053bb730b87fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6287665e8a01d5bb20d053bb730b87fc">&#9670;&nbsp;</a></span>FFDB_NOMMAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_NOMMAP&#160;&#160;&#160;0x00000010    /* Don't mmap underlying file. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a13c5fd155bd487e656eb2779f4d805a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c5fd155bd487e656eb2779f4d805a3">&#9670;&nbsp;</a></span>FFDB_PAGE_CREATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_CREATE&#160;&#160;&#160;0x00000001	/* page needs to be written */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">cache page operation flag </p>

</div>
</div>
<a id="a83fd5f8f5dfac0274251820d9726c2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fd5f8f5dfac0274251820d9726c2ea">&#9670;&nbsp;</a></span>FFDB_PAGE_DIRTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_DIRTY&#160;&#160;&#160;0x00000002	/* page needs to be written */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0300fb8ffe6959f9be9e9355b560b24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0300fb8ffe6959f9be9e9355b560b24c">&#9670;&nbsp;</a></span>FFDB_PAGE_EDIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_EDIT&#160;&#160;&#160;0x00000004	/* Modify without copying. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aad7a66ec27e19bb172da5596a3cd4f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad7a66ec27e19bb172da5596a3cd4f95">&#9670;&nbsp;</a></span>FFDB_PAGE_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_FREE&#160;&#160;&#160;0x00000008	/* Free page if present. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a358b2174963715fbd8106a5b18dba4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358b2174963715fbd8106a5b18dba4a5">&#9670;&nbsp;</a></span>FFDB_PAGE_IGNOREPIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_IGNOREPIN&#160;&#160;&#160;0x00001000	/* Ignore if the page is pinned.*/</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af68307f558c015ef865fcd4cf94b38d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af68307f558c015ef865fcd4cf94b38d1">&#9670;&nbsp;</a></span>FFDB_PAGE_LAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_LAST&#160;&#160;&#160;0x00000010	/* Return the last page. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec5c29834d2c61a4ad84c4a619241184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec5c29834d2c61a4ad84c4a619241184">&#9670;&nbsp;</a></span>FFDB_PAGE_LOCKED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_LOCKED&#160;&#160;&#160;0x00000400	/* page should stay in memory */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac13a29f7cca1a74b9309ee383bfd2ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13a29f7cca1a74b9309ee383bfd2ce8">&#9670;&nbsp;</a></span>FFDB_PAGE_NEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_NEW&#160;&#160;&#160;0x00000020	/* Create a new page. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a85efbea251f47f544fa98e5fb0efba8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85efbea251f47f544fa98e5fb0efba8a">&#9670;&nbsp;</a></span>FFDB_PAGE_NEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_NEXT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0x00004000  <span class="comment">/* Allocate a new page with</span></div><div class="line"><span class="comment">                       next page number. */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a440c42c39023ec7bc703c1ee7cf9d31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a440c42c39023ec7bc703c1ee7cf9d31d">&#9670;&nbsp;</a></span>FFDB_PAGE_PINNED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_PINNED&#160;&#160;&#160;0x00000100	/* page is pinned into memory */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aadf1f5e267ceac2e911909dbb47d5b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf1f5e267ceac2e911909dbb47d5b1f">&#9670;&nbsp;</a></span>FFDB_PAGE_REQUEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_REQUEST</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0x00002000  <span class="comment">/* Allocate a new page with a</span></div><div class="line"><span class="comment">                       specific page number. */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a0b245e3a64286e83e0dabe70b18d82ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b245e3a64286e83e0dabe70b18d82ca">&#9670;&nbsp;</a></span>FFDB_PAGE_VALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_PAGE_VALID&#160;&#160;&#160;0x00000200	/* page address is valid */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aad891cad4d93571b9eaaf397018e623f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad891cad4d93571b9eaaf397018e623f">&#9670;&nbsp;</a></span>FFDB_POWER_OF_TWO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_POWER_OF_TWO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(( (x) &amp; (x - 1)) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a38b90b5bfef518ec2ce0a82caae32e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38b90b5bfef518ec2ce0a82caae32e32">&#9670;&nbsp;</a></span>FFDB_RDONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_RDONLY&#160;&#160;&#160;0x00000020    /* Read-only (O_RDONLY). */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afbd949b4684a5419fea1d6df7d1bcee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd949b4684a5419fea1d6df7d1bcee7">&#9670;&nbsp;</a></span>FFDB_THREAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_THREAD&#160;&#160;&#160;0x00000080    /* Applications are threaded. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa0ec4d7b88f89a37915755f01d8687a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0ec4d7b88f89a37915755f01d8687a">&#9670;&nbsp;</a></span>FFDB_THREAD_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_THREAD_ID&#160;&#160;&#160;(pthread_self())</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a431000f2ae42020b7e1831dba9716c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431000f2ae42020b7e1831dba9716c31">&#9670;&nbsp;</a></span>FFDB_THREAD_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_THREAD_NULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id</td><td>)</td>
          <td>&#160;&#160;&#160;(memset(&amp;id, 0, sizeof(pthread_t)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af6a6441c16eee0ed7b4b0e730015335b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a6441c16eee0ed7b4b0e730015335b">&#9670;&nbsp;</a></span>FFDB_THREAD_SAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_THREAD_SAME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">id2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(pthread_equal(id1,id2))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31c6f9982ed977047ebfdfbc58787424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31c6f9982ed977047ebfdfbc58787424">&#9670;&nbsp;</a></span>FFDB_TRUNCATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_TRUNCATE&#160;&#160;&#160;0x00000100    /* Discard existing DB (O_TRUNC). */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a770bd9e9fabaed425e3d471d346166bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770bd9e9fabaed425e3d471d346166bc">&#9670;&nbsp;</a></span>FFDB_UNLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_UNLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lock</td><td>)</td>
          <td>&#160;&#160;&#160;(pthread_mutex_unlock(&amp;(lock)))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a896afa4e850cfdef005b805712ed8812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896afa4e850cfdef005b805712ed8812">&#9670;&nbsp;</a></span>FFDB_WRITE_FRAC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FFDB_WRITE_FRAC&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">What fractions of pages inside cache to flush out when The maximum of cache is reached</p>
<p class="">This is the inverse of the above value </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a7d7436d10d66de8bbe2325c37cd7a5ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7436d10d66de8bbe2325c37cd7a5ef">&#9670;&nbsp;</a></span>ffdb_bkt_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d1/d7c/struct__ffdb__bkt.html">_ffdb_bkt</a>  <a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a7d7436d10d66de8bbe2325c37cd7a5ef">ffdb_bkt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">The BKT structures are the elements of the queues. </p>

</div>
</div>
<a id="accd1d1333df4b3ff0bb77b691fc9d126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd1d1333df4b3ff0bb77b691fc9d126">&#9670;&nbsp;</a></span>ffdb_bkt_waiter_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d0/dad/struct__ffdb__bkt__waiter.html">_ffdb_bkt_waiter</a> <a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#accd1d1333df4b3ff0bb77b691fc9d126">ffdb_bkt_waiter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">The waiters of a bucket defined in the following </p>

</div>
</div>
<a id="a73290f737b0e5f8be90a0fa96ddf6ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73290f737b0e5f8be90a0fa96ddf6ab6">&#9670;&nbsp;</a></span>ffdb_pagepool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dc/d66/struct__ffdb__pagepool__.html">_ffdb_pagepool_</a> <a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abe9c83a47a1f5babe21df1582aeb8022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9c83a47a1f5babe21df1582aeb8022">&#9670;&nbsp;</a></span>ffdb_pgiofunc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ffdb_pgiofunc_t) (void *arg, <a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> pgno, void *mem)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Define user supplied pgio function </p>

</div>
</div>
<a id="a721dc6b888a776fec1cebb5ce4ea68c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721dc6b888a776fec1cebb5ce4ea68c7">&#9670;&nbsp;</a></span>ffdb_sbkt_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dc/d26/struct__ffdb__sbkt.html">_ffdb_sbkt</a> <a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a721dc6b888a776fec1cebb5ce4ea68c7">ffdb_sbkt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">The bucket structure for sorting and flushing to disk purpose </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a72c44f8ab92d09c2def5eadf818b8173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c44f8ab92d09c2def5eadf818b8173">&#9670;&nbsp;</a></span>ffdb_dump_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ffdb_dump_stack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Simple utility to dump stack trace Now it only has implementation on linux </p>

</div>
</div>
<a id="a8a56a4dfe872f7c75dd8064ca7bffedf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a56a4dfe872f7c75dd8064ca7bffedf">&#9670;&nbsp;</a></span>ffdb_pagepool_change_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_change_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a>&#160;</td>
          <td class="paramname"><em>newpagenum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Put a page back into the cache so that other threads can access this page with new page number for this page</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page pool pointer </td></tr>
    <tr><td class="paramname">mem</td><td>user cached page memory will be returned </td></tr>
    <tr><td class="paramname">newpgnum</td><td>a new pagenumber associated with this page</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if this page is successfully be put back into the cache. Otherwise return -1 with an appropriate errno set </dd></dl>
<p class="">if there are waiters, we cannot change this page just do a regular put and come back later to change</p>
<p class="">Here is a scary thing, if the flags has DIRTY bit set, but bp-&gt;flags does not have the DIRTY bit set, how do we control multiple threads simultaneous writes suggestion: always set flag when you create pages</p>
<p class="">Derefence the page</p>
<p class="">Remember old pagenumber</p>
<p class="">Change page number</p>
<p class="">Now Unpin the page and wake up other threads waiting</p>
<p class="">Now add this entry back to the lists</p>
<p class="">Change number of pages if pages are moved back</p>
<p class="">Clean out old disk content</p>
<p class="">if there are waiters, we cannot change this page just do a regular put and come back later to change</p>
<p class="">Here is a scary thing, if the flags has DIRTY bit set, but bp-&gt;flags does not have the DIRTY bit set, how do we control multiple threads simultaneous writes suggestion: always set flag when you create pages</p>
<p class="">Derefence the page</p>
<p class="">Remember old pagenumber</p>
<p class="">Change page number</p>
<p class="">Now Unpin the page and wake up other threads waiting</p>
<p class="">Now add this entry back to the lists</p>
<p class="">Change number of pages if pages are moved back</p>
<p class="">Clean out old disk content</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a8a56a4dfe872f7c75dd8064ca7bffedf_cgraph.png" border="0" usemap="#dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a8a56a4dfe872f7c75dd8064ca7bffedf_cgraph" alt=""/></div>
<map name="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a8a56a4dfe872f7c75dd8064ca7bffedf_cgraph" id="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a8a56a4dfe872f7c75dd8064ca7bffedf_cgraph">
<area shape="rect" id="node1" title=" " alt="" coords="5,5,199,31"/>
<area shape="rect" id="node2" href="../../d4/d70/other__libs_2filedb_2filehash_2ffdb__pagepool_8c.html#ad7f00ff4f29b50aaa1bc5444087b9bb5" title=" " alt="" coords="247,5,416,31"/>
</map>
</div>

</div>
</div>
<a id="a73c44ef71020216252a28a384316dd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c44ef71020216252a28a384316dd93">&#9670;&nbsp;</a></span>ffdb_pagepool_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Close the page poll pointer and any resource associated with this file This implies all dirty pages are flushed out,</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page poll pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 the file is closed successfully and all pages are written back to th back file. If there are still pinned pages by other threads, return -1 and errno is set to EAGAIN. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a73c44ef71020216252a28a384316dd93_cgraph.png" border="0" usemap="#dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a73c44ef71020216252a28a384316dd93_cgraph" alt=""/></div>
<map name="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a73c44ef71020216252a28a384316dd93_cgraph" id="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_a73c44ef71020216252a28a384316dd93_cgraph">
<area shape="rect" id="node1" title=" " alt="" coords="5,31,149,56"/>
<area shape="rect" id="node2" href="../../d4/d70/other__libs_2filedb_2filehash_2ffdb__pagepool_8c.html#ae180f42208c9a87c2b8be32bb3ec93be" title=" " alt="" coords="197,5,338,31"/>
<area shape="rect" id="node3" href="../../db/de5/group__qio.html#gac32c771b58d87e4ef4af62a7ad2e5c0d" title="Close a ADATFileReader." alt="" coords="213,55,322,80"/>
<area shape="rect" id="node4" href="../../db/de5/group__qio.html#ga8b86dba1600272d26539815146f04078" title="Closes the last file opened." alt="" coords="386,48,563,87"/>
<area shape="rect" id="node5" href="../../db/de5/group__qio.html#ga601972c66a6e6671d7b41ee1bce80e82" title="Queries whether a file is open." alt="" coords="611,48,788,87"/>
</map>
</div>

</div>
</div>
<a id="a942bc04bad183d386b22a85d5d070ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942bc04bad183d386b22a85d5d070ffc">&#9670;&nbsp;</a></span>ffdb_pagepool_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> **&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Create pagepool memory handle</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pagepool</td><td>this is a pointer for ffdb_pagepool_t </td></tr>
    <tr><td class="paramname">flags</td><td>not used: has to be zero </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise errno will be returned</dd></dl>
<p>Create ffdb_pagepool handle used by all threads of a process </p>
<p class="">initialize each element of this structure</p>
<p class="">Initialize LRU and hash table</p>
<p class="">Create a pthread mutex lock</p>
<p class="">initialize each element of this structure</p>
<p class="">Initialize LRU and hash table</p>
<p class="">Create a pthread mutex lock</p>

</div>
</div>
<a id="ad53e778be42420ab49a02b1d238b7533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53e778be42420ab49a02b1d238b7533">&#9670;&nbsp;</a></span>ffdb_pagepool_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Really delete page from cache. This is used either by internal other routines or user knows this page is not used anymore </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page poll pointer </td></tr>
    <tr><td class="paramname">mem</td><td>memory pointer of this page </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 this page is deleted and memory is freed. Otherwise return -1 or appropriate errno: EAGAIN: there are waiters on this page.</dd></dl>
<p>Really delete page from cache. This is used either by internal other routines or user knows this page is not used anymore </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page poll pointer </td></tr>
    <tr><td class="paramname">mem</td><td>memory pointer of this page </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 this page is deleted and memory is freed. Otherwise return -1 </dd></dl>

</div>
</div>
<a id="aee2dbd77212ac78d15ab0511dee2d1ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2dbd77212ac78d15ab0511dee2d1ba">&#9670;&nbsp;</a></span>ffdb_pagepool_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ffdb_pagepool_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe9c83a47a1f5babe21df1582aeb8022">ffdb_pgiofunc_t</a>&#160;</td>
          <td class="paramname"><em>pgin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#abe9c83a47a1f5babe21df1582aeb8022">ffdb_pgiofunc_t</a>&#160;</td>
          <td class="paramname"><em>pgout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Add user callback to page in/out from a backend file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>a pagepool pointer </td></tr>
    <tr><td class="paramname">pgin</td><td>a function for a pgae read in from backend file </td></tr>
    <tr><td class="paramname">pgoit</td><td>a function for a page flush out to disk </td></tr>
    <tr><td class="paramname">cookie</td><td>a void* user supplied argument</td></tr>
  </table>
  </dd>
</dl>
<p>User supplied filter code </p>

</div>
</div>
<a id="a5b3c5e95803e8cb5f6eee48855f12f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b3c5e95803e8cb5f6eee48855f12f27">&#9670;&nbsp;</a></span>ffdb_pagepool_get_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_get_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> *&#160;</td>
          <td class="paramname"><em>pageno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Get a page from the cache poll backed by the file. If the file is not yet created, a new page will be allocated and eventually written back to the file. Once this page is claimed by a thread, other threads cannot access this thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page pool pointer </td></tr>
    <tr><td class="paramname">pageno</td><td>requested page number </td></tr>
    <tr><td class="paramname">flags</td><td>this flag can be either 0, or by bitwise inclusively OR'ing the following values: FFDB_PAGE_CREATE if the specified page does not exist, create it. FFDB_PAGE_DIRTY this page will be modified before leaving the cache FFDB_PAGE_LAST return the last page of the source file and copy it page number to the memory location of the pagno FFDB_NEW create a new page in the file, and copy its page number into the the memory localtion of the pageno. </td></tr>
    <tr><td class="paramname">mem</td><td>returned memory address of this page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. Otherwise return errno</dd></dl>
<p>Get a cached page from the page poll There will be no difference of treatment on the thread getting this page, i.e. readonly or write flags can be 0 or OR'ING the following values FFDB_PAGE_CREATE if the specified page does not exist, create it. FFDB_PAGE_DIRTY this page will be modified before leaving the cache FFDB_PAGE_LOCK this page will stay in cache number to the memory location of the pagno FFDB_NEW create a new page in the file, and copy its page number into the the memory localtion of the pageno.</p>
<p class="">Since each page is locked by checking whether pinned flag is set, so as long as pinned flag is changed, one is ok to modify other attribute of the page </p>
<p class="">Check flag for consistence</p>
<p class="">Handle the case of new page No need to lock page here because each page is a new alloced page</p>
<p class="">Try to find a page from existing cache. This page has to be not pinned by other threads</p>
<p class="">If I am the owner, the bp will be returned</p>
<p class="">A different thread try to access this page</p>
<p class="">The following removal and reinsert must be done at the same time. If the item is removed first, the lock is given up when a thread is waiting on the conditional variable. Another thread come in to request the same page, it will not find the page and will create a new page with the same page number. One will have two entries in the hash and LRU with the same page number</p>
<p class="">We cannot find this page with provided page number if flag FFDB_PAGE_CREATE is set, we have to create this page</p>
<p class="">Check flag for consistence</p>
<p class="">Handle the case of new page No need to lock page here because each page is a new alloced page</p>
<p class="">Try to find a page from existing cache. This page has to be not pinned by other threads</p>
<p class="">If I am the owner, the bp will be returned</p>
<p class="">A different thread try to access this page</p>
<p class="">The following removal and reinsert must be done at the same time. If the item is removed first, the lock is given up when a thread is waiting on the conditional variable. Another thread come in to request the same page, it will not find the page and will create a new page with the same page number. One will have two entries in the hash and LRU with the same page number</p>
<p class="">We cannot find this page with provided page number if flag FFDB_PAGE_CREATE is set, we have to create this page</p>

</div>
</div>
<a id="a64907f28abdad3f859641b235e76bb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64907f28abdad3f859641b235e76bb42">&#9670;&nbsp;</a></span>ffdb_pagepool_new_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_new_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d25/other__libs_2filedb_2filehash_2ffdb__db_8h.html#a000813331643d38481142bcce7de1501">pgno_t</a> *&#160;</td>
          <td class="paramname"><em>pageno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Create a new page not backed by any file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page pool pointer </td></tr>
    <tr><td class="paramname">pageno</td><td>returned page number if this routine is success </td></tr>
    <tr><td class="paramname">flags</td><td>if flags = FFDB_PAGE_REQUEST, page will be created using page number stored in pageno. If flags = 0, page will be created and new pagenumber is returned. </td></tr>
    <tr><td class="paramname">mem</td><td>returned memory address of this page.</td></tr>
  </table>
  </dd>
</dl>
<p>Create a new page not from the back source file </p>

</div>
</div>
<a id="a12eb043ae26795fb94d776f0bb48eddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12eb043ae26795fb94d776f0bb48eddf">&#9670;&nbsp;</a></span>ffdb_pagepool_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>pagesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxcache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Open a page cache poll</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>a backend filename </td></tr>
    <tr><td class="paramname">flags</td><td>must be zero or by bitwise OR'ing together one or more of the following value: FFDB_CREATE, FFDB_DIRECT, FFDB_RDONLY </td></tr>
    <tr><td class="paramname">mode</td><td>the same as chmod call </td></tr>
    <tr><td class="paramname">pagesize</td><td>a fixed page size to use. This must be power of two </td></tr>
    <tr><td class="paramname">maxcache</td><td>how many pages to keep in the page cache poll </td></tr>
    <tr><td class="paramname">a</td><td>pointer to ffdb_pagepool_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything is ok. Otherwise errno is returned</dd></dl>
<p>Open a page cache poll object using a given file </p>
<p class="">first check open flags</p>
<p class="">Check page size</p>
<p class="">Let us open the file</p>
<p class="">Always support large file if I am on a 32bit linux machine</p>
<p class="">first check open flags</p>
<p class="">Check page size</p>
<p class="">Let us open the file</p>
<p class="">Always support large file if I am on a 32bit linux machine</p>

</div>
</div>
<a id="a1fb004ebd1f72e4fe64f32f150bc380e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb004ebd1f72e4fe64f32f150bc380e">&#9670;&nbsp;</a></span>ffdb_pagepool_open_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_open_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>pagesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxcache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Open a page cache poll</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>an opened file descriptor for the backend file </td></tr>
    <tr><td class="paramname">pagesize</td><td>a fixed page size to use. This must be power of two </td></tr>
    <tr><td class="paramname">maxcache</td><td>how many pages to keep in the page cache poll </td></tr>
    <tr><td class="paramname">a</td><td>pointer to ffdb_pagepool_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if everything is ok. Otherwise errno is returned</dd></dl>
<p>Open a page cache poll object using a given file </p>
<p class="">first check open flags</p>
<p class="">Check page size</p>
<p class="">first check open flags</p>
<p class="">Check page size</p>

</div>
</div>
<a id="ad7f00ff4f29b50aaa1bc5444087b9bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f00ff4f29b50aaa1bc5444087b9bb5">&#9670;&nbsp;</a></span>ffdb_pagepool_put_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_put_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Put a page back into the cache so that other threads can access this page</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page pool pointer </td></tr>
    <tr><td class="paramname">mem</td><td>user cached page memory will be returned </td></tr>
    <tr><td class="paramname">flags</td><td>this flags can be FFDB_PAGE_DIRTY if this page has been modified</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if this page is successfully be put back into the cache. Otherwise return -1 with an appropriate errno set </dd></dl>
<p class="">Here is a scary thing, if the flags has DIRTY bit set, but bp-&gt;flags does not have the DIRTY bit set, how do we control multiple threads simultaneous writes suggestion: always set flag when you create pages</p>
<p class="">Derefence the page</p>
<p class="">Now Unpin the page and wake up other threads waiting</p>
<p class="">Here is a scary thing, if the flags has DIRTY bit set, but bp-&gt;flags does not have the DIRTY bit set, how do we control multiple threads simultaneous writes suggestion: always set flag when you create pages</p>
<p class="">Derefence the page</p>
<p class="">Now Unpin the page and wake up other threads waiting</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_ad7f00ff4f29b50aaa1bc5444087b9bb5_cgraph.png" border="0" usemap="#dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_ad7f00ff4f29b50aaa1bc5444087b9bb5_cgraph" alt=""/></div>
<map name="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_ad7f00ff4f29b50aaa1bc5444087b9bb5_cgraph" id="dc/d07/devel_2other__libs_2filedb_2filehash_2ffdb__pagepool_8h_ad7f00ff4f29b50aaa1bc5444087b9bb5_cgraph">
<area shape="rect" id="node1" title=" " alt="" coords="5,5,174,31"/>
<area shape="rect" id="node2" href="../../d4/d70/other__libs_2filedb_2filehash_2ffdb__pagepool_8c.html#a72c44f8ab92d09c2def5eadf818b8173" title=" " alt="" coords="222,5,345,31"/>
</map>
</div>

</div>
</div>
<a id="ae180f42208c9a87c2b8be32bb3ec93be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae180f42208c9a87c2b8be32bb3ec93be">&#9670;&nbsp;</a></span>ffdb_pagepool_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ffdb_pagepool_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d06/other__libs_2filedb_2filehash_2ffdb__pagepool_8h.html#a73290f737b0e5f8be90a0fa96ddf6ab6">ffdb_pagepool_t</a> *&#160;</td>
          <td class="paramname"><em>pgp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Flush all dirty pages back to the back end file. However, if any modified pages are in use. They will be ignored</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pgp</td><td>cache page pool pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aad811ff54987678d1dfde499c3ef4899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad811ff54987678d1dfde499c3ef4899">&#9670;&nbsp;</a></span>FFDB_SLIST_HEAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef FFDB_SLIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">_ffdb_slh&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d26/struct__ffdb__sbkt.html">_ffdb_sbkt</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p class="">Define a head pointer pointing to the head of the single list </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
